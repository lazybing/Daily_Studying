# 优化程序性能

## 概述
编写高效程序的几大方向：
1. 选择适当的算法和数据结构。
2. 编写出编译器友好的程序，即编译器能够有效优化以转换成高效可执行代码的源代码。
3. 将任务分成多个部分，每部分在多核和多处理器的某种组合上并行地计算。

## 优化编译器的能力和局限性

编译器必须很小心的对程序只使用安全的优化，即对程序可能遇到的所有可能都要考虑到，优化前和优化后的程序行为必须完全一致。例如下面两个函数，看似完成的功能相同，但编译器不会对函数1进行优化，因为但两个指针指向相同内存时，两函数完成的内容并不相同，编译器必须考虑这种情况。
```
void twiddle1(long *xp, long *yp)
{
    *xp += *yp;
    *xp += *yp;
}

void twiddle2(long *xp, long *yp)
{
    *xp += 2 * *yp;
}
```

## 表示程序性能